ARG IMG_VERSION=1
FROM public.ecr.aws/lambda/go:${IMG_VERSION}
ARG EXPOSED_PORT=8080
EXPOSE ${EXPOSED_PORT}
ARG APP_NAME
ARG LOG_ENABLED=1
COPY ${APP_NAME} ${LAMBDA_TASK_ROOT}
COPY config.cfg ${LAMBDA_TASK_ROOT}
ENV TRACE_LOG_UTIL_ENABLE $LOG_ENABLED
ENV ENV_APP_NAME $APP_NAME

CMD [ "app" ]
